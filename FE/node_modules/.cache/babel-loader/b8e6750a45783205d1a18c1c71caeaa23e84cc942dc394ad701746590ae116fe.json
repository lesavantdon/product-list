{"ast":null,"code":"// src/components/ProductList.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import'../assets/styles/ProductList.css';// Adjust path if ProductList.js is in a different directory\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=_ref=>{let{searchQuery,currentPage,sortOption,category,onPageChange}=_ref;const[products,setProducts]=useState([]);const[totalPages,setTotalPages]=useState(1);const productsPerPage=9;useEffect(()=>{const fetchProducts=async()=>{try{const response=await axios.get('/api/products',{params:{page:currentPage,limit:productsPerPage,query:searchQuery,sort:sortOption,category:category==='all'?undefined:category// Only send category if it's not \"all\"\n}});setProducts(response.data.products);setTotalPages(Math.ceil(response.data.total/productsPerPage));}catch(error){console.error('Error fetching products:',error);}};fetchProducts();},[currentPage,searchQuery,sortOption,category]);const handlePageChange=newPage=>{onPageChange(newPage);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.length?products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-box\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",product._id]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category: \",product.category]})]})]},product._id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products found\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:[...Array(totalPages)].map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:`pagination-button ${currentPage===index+1?'active':''}`,onClick:()=>handlePageChange(index+1),children:index+1},index))})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ProductList","_ref","searchQuery","currentPage","sortOption","category","onPageChange","products","setProducts","totalPages","setTotalPages","productsPerPage","fetchProducts","response","get","params","page","limit","query","sort","undefined","data","Math","ceil","total","error","console","handlePageChange","newPage","className","children","length","map","product","src","image","alt","name","_id","Array","_","index","onClick"],"sources":["/Users/aneetsingh/FE+BE/FE/src/components/ProductList.js"],"sourcesContent":["// src/components/ProductList.js\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../assets/styles/ProductList.css'; // Adjust path if ProductList.js is in a different directory\n\n\nconst ProductList = ({ searchQuery, currentPage, sortOption, category, onPageChange }) => {\n  const [products, setProducts] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const productsPerPage = 9;\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('/api/products', {\n          params: {\n            page: currentPage,\n            limit: productsPerPage,\n            query: searchQuery,\n            sort: sortOption,\n            category: category === 'all' ? undefined : category // Only send category if it's not \"all\"\n          }\n        });\n        setProducts(response.data.products);\n        setTotalPages(Math.ceil(response.data.total / productsPerPage));\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    };\n\n    fetchProducts();\n  }, [currentPage, searchQuery, sortOption, category]);\n\n  const handlePageChange = (newPage) => {\n    onPageChange(newPage);\n  };\n\n  return (\n    <div className=\"product-list\">\n      <div className=\"product-grid\">\n        {products.length ? (\n          products.map(product => (\n            <div key={product._id} className=\"product-box\">\n              <img src={product.image} alt={product.name} className=\"product-image\" />\n              <div className=\"product-info\">\n                <h3>{product.name}</h3>\n                <p>ID: {product._id}</p>\n                <p>Category: {product.category}</p>\n              </div>\n            </div>\n          ))\n        ) : (\n          <p>No products found</p>\n        )}\n      </div>\n\n      <div className=\"pagination\">\n        {[...Array(totalPages)].map((_, index) => (\n          <button\n            key={index}\n            className={`pagination-button ${currentPage === index + 1 ? 'active' : ''}`}\n            onClick={() => handlePageChange(index + 1)}\n          >\n            {index + 1}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}