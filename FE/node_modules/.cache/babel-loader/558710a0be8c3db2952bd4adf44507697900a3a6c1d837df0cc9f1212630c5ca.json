{"ast":null,"code":"import React,{useState,useEffect}from'react';import{addReview,fetchReviews,deleteReview}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReviewComponent=_ref=>{let{productId}=_ref;const[reviews,setReviews]=useState([]);const[newReview,setNewReview]=useState({user:'',rating:'',review:''});useEffect(()=>{const getReviews=async()=>{try{const fetchedReviews=await fetchReviews(productId,1);setReviews(fetchedReviews);}catch(error){console.error('Error fetching reviews:',error);}};getReviews();},[productId]);const handleInputChange=e=>{const{name,value}=e.target;setNewReview({...newReview,[name]:value});};const handleAddReview=async()=>{try{await addReview(productId,newReview);setNewReview({user:'',rating:'',review:''});// Optionally refetch reviews or update state\nconst fetchedReviews=await fetchReviews(productId,1);setReviews(fetchedReviews);}catch(error){console.error('Error adding review:',error);}};const handleDeleteReview=async reviewId=>{try{await deleteReview(reviewId);// Optionally refetch reviews or update state\nconst fetchedReviews=await fetchReviews(productId,1);setReviews(fetchedReviews);}catch(error){console.error('Error deleting review:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"ul\",{children:reviews.map(review=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:review.user}),\" - \",review.rating,\"/5\",/*#__PURE__*/_jsx(\"p\",{children:review.review}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteReview(review.id),children:\"Delete\"})]},review.id))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add a Review\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user\",value:newReview.user,onChange:handleInputChange,placeholder:\"Your name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"rating\",value:newReview.rating,onChange:handleInputChange,placeholder:\"Rating (1-5)\",min:\"1\",max:\"5\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"review\",value:newReview.review,onChange:handleInputChange,placeholder:\"Your review\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddReview,children:\"Submit\"})]})]});};export default ReviewComponent;","map":{"version":3,"names":["React","useState","useEffect","addReview","fetchReviews","deleteReview","jsx","_jsx","jsxs","_jsxs","ReviewComponent","_ref","productId","reviews","setReviews","newReview","setNewReview","user","rating","review","getReviews","fetchedReviews","error","console","handleInputChange","e","name","value","target","handleAddReview","handleDeleteReview","reviewId","children","map","onClick","id","type","onChange","placeholder","min","max"],"sources":["/Users/aneetsingh/FE+BE/FE/src/components/reviewComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { addReview, fetchReviews, deleteReview } from '../services/api';\n\nconst ReviewComponent = ({ productId }) => {\n  const [reviews, setReviews] = useState([]);\n  const [newReview, setNewReview] = useState({ user: '', rating: '', review: '' });\n\n  useEffect(() => {\n    const getReviews = async () => {\n      try {\n        const fetchedReviews = await fetchReviews(productId, 1);\n        setReviews(fetchedReviews);\n      } catch (error) {\n        console.error('Error fetching reviews:', error);\n      }\n    };\n\n    getReviews();\n  }, [productId]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewReview({ ...newReview, [name]: value });\n  };\n\n  const handleAddReview = async () => {\n    try {\n      await addReview(productId, newReview);\n      setNewReview({ user: '', rating: '', review: '' });\n      // Optionally refetch reviews or update state\n      const fetchedReviews = await fetchReviews(productId, 1);\n      setReviews(fetchedReviews);\n    } catch (error) {\n      console.error('Error adding review:', error);\n    }\n  };\n\n  const handleDeleteReview = async (reviewId) => {\n    try {\n      await deleteReview(reviewId);\n      // Optionally refetch reviews or update state\n      const fetchedReviews = await fetchReviews(productId, 1);\n      setReviews(fetchedReviews);\n    } catch (error) {\n      console.error('Error deleting review:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h3>Reviews</h3>\n      <ul>\n        {reviews.map((review) => (\n          <li key={review.id}>\n            <strong>{review.user}</strong> - {review.rating}/5\n            <p>{review.review}</p>\n            <button onClick={() => handleDeleteReview(review.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n      <div>\n        <h4>Add a Review</h4>\n        <input\n          type=\"text\"\n          name=\"user\"\n          value={newReview.user}\n          onChange={handleInputChange}\n          placeholder=\"Your name\"\n        />\n        <input\n          type=\"number\"\n          name=\"rating\"\n          value={newReview.rating}\n          onChange={handleInputChange}\n          placeholder=\"Rating (1-5)\"\n          min=\"1\"\n          max=\"5\"\n        />\n        <textarea\n          name=\"review\"\n          value={newReview.review}\n          onChange={handleInputChange}\n          placeholder=\"Your review\"\n        />\n        <button onClick={handleAddReview}>Submit</button>\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}